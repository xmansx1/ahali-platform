{% extends "core/base.html" %}
{% load widget_tweaks %}

{% block title %}تغيير كلمة المرور{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8 mt-10 border border-gray-200">
  <h2 class="text-3xl font-extrabold text-gray-800 mb-6 flex items-center gap-2">
    🔐 تغيير كلمة مرور المستخدم
  </h2>

  <div class="text-sm text-gray-600 mb-6 bg-gray-50 border rounded px-4 py-2">
    👤 اسم المستخدم: <span class="font-semibold text-gray-800">{{ target_user.username }}</span>
  </div>

  <form method="POST" class="space-y-5">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div>
      <label class="block mb-1 text-gray-700 text-sm font-medium">🔑 كلمة المرور الجديدة</label>
      {{ form.new_password|add_class:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" }}
    </div>

    <div>
      <label class="block mb-1 text-gray-700 text-sm font-medium">🔁 تأكيد كلمة المرور</label>
      {{ form.confirm_password|add_class:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" }}
    </div>

    <div class="flex items-center justify-between mt-6">
      <a href="{% url 'admin_user_detail' target_user.id %}" class="inline-flex items-center gap-1 text-sm text-gray-700 hover:text-blue-600 hover:underline transition">
        ← الرجوع لتفاصيل المستخدم
      </a>

      <button type="submit"
        class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-sm font-medium transition">
        💾 حفظ كلمة المرور
      </button>
    </div>
  </form>
</div>
{% endblock %}
